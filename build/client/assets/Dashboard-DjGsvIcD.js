import{w as o,p as e,t as c,a as m}from"./chunk-4WY6JWTD-CQ2BrMui.js";import{u as d}from"./useAuth-DROiUoFu.js";import{S as t}from"./skeleton-BFc3on2W.js";import{P as u,L as i}from"./ProtectedRoute-DFjb99Eu.js";import"./client-D-irrw7s.js";import"./tslib.es6-DcwbYiNs.js";import"./use-toast-aoUui9pM.js";import"./utils-CDN07tui.js";import"./card-SCvgtUFv.js";import"./button-B0x8FPUr.js";import"./index-CwuhT9dy.js";import"./index-BNeLBswU.js";import"./index-B_jtOnfb.js";import"./AppContext-ASKE5L8w.js";const x=()=>{const{user:a,loading:n,isAdmin:l,userRole:s}=d(),r=c();return console.log("Dashboard - user:",a?.id,"loading:",n,"userRole:",s,"isAdmin:",l),m.useEffect(()=>{a&&s!==null&&(console.log("Dashboard - redirecting based on role:",s),s==="admin"?r("/admin-dashboard",{replace:!0}):r("/user-dashboard",{replace:!0}))},[a,s,r]),n?e.jsx("div",{className:"min-h-screen bg-[url(tile_background.png)] bg-repeat animate-fade-in flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx(i,{className:"w-8 h-8 animate-spin text-blue-300"}),e.jsx(t,{className:"h-8 w-52 mb-2"}),e.jsx(t,{className:"h-5 w-32"})]})}):a&&s===null?e.jsx("div",{className:"min-h-screen bg-[url(tile_background.png)] bg-repeat animate-fade-in flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx(i,{className:"w-8 h-8 animate-spin text-blue-400"}),e.jsx(t,{className:"h-8 w-48 mb-2"}),e.jsx(t,{className:"h-5 w-44"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading user role..."})]})}):a&&s?e.jsx("div",{className:"min-h-screen bg-[url(tile_background.png)] bg-repeat animate-fade-in flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx(i,{className:"w-8 h-8 animate-spin text-blue-400"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to dashboard..."})]})}):null},p=()=>e.jsx(u,{children:e.jsx(x,{})}),C=o(p);export{C as default};
